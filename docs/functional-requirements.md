# TODOアプリ 機能要件書

## 機能一覧

### ✅ タスク管理
- タスクの作成・編集・削除
- 優先度設定（高・中・低）
- 状態管理（未着手・着手中・完了）
- 期限設定
- 状態変更とワークフロー管理

### ✅ カテゴリ管理
- カテゴリの作成・編集・削除
- 色分け表示
- カテゴリ別フィルタリング

### ✅ 検索・フィルタ
- キーワード検索
- 優先度別フィルタ
- 状態別フィルタ（未着手・着手中・完了）
- 期限順ソート

### ✅ データ管理
- JSONエクスポート
- CSVエクスポート
- データインポート

## 機能詳細

### 1. タスク管理機能

#### 1.1 タスク作成
- **機能概要**: 新しいタスクを作成する
- **入力項目**:
  - タスク名 (必須, 最大100文字)
  - 説明 (任意, 最大500文字)
  - 優先度 (必須, 選択式)
    - 選択肢: 高, 中, 低
  - 状態 (必須, 選択式)
    - 選択肢: 未着手, 着手中, 完了
    - default: 未着手
  - 期限 (任意)
  - カテゴリ (任意)
- **バリデーション**:
  - タスク名は空文字不可
  - 期限は、どの過去日付でも登録可能
- **成功条件**: タスクがデータベースに保存され、一覧に表示される

#### 1.2 タスク一覧表示
- **機能概要**: 登録されているタスクを一覧表示する
- **表示項目**:
  - タスク名
  - 優先度 (色分け表示)
  - 状態 (未着手/着手中/完了のバッジ表示)
  - 期限
  - 作成日時
- **ソート機能**:
  - 作成日時 (昇順/降順)
  - 期限 (昇順/降順)
  - 優先度 (高→低/低→高)
- **フィルタ機能**:
  - 状態別 (全て/未着手/着手中/完了)
  - 優先度別
  - カテゴリ別

#### 1.3 タスク編集
- **機能概要**: 既存タスクの情報を変更する
- **編集可能項目**: タスク作成時と同じ項目
- **制約**: タスクIDは変更不可
- **成功条件**: 変更内容がデータベースに反映される

#### 1.4 タスク削除
- **機能概要**: 不要なタスクを削除する
- **確認機能**: 削除前に確認ダイアログを表示
- **成功条件**: タスクがデータベースから削除され、一覧から消える

#### 1.5 タスク状態変更
- **機能概要**: タスクの状態を変更する
- **操作方法**: 
  - ドロップダウンメニューでの状態選択
  - ボタンクリックでの状態切り替え
- **状態遷移**: 未着手 → 着手中 → 完了 (逆方向の変更も可能)
- **視覚的フィードバック**: 
  - 未着手: グレー表示
  - 着手中: 青色表示、進行中アイコン
  - 完了: 緑色表示、取り消し線、チェックマーク

### 2. カテゴリ管理機能

#### 2.1 カテゴリ作成
- **機能概要**: タスクを分類するためのカテゴリを作成
- **入力項目**:
  - カテゴリ名 (必須, 最大50文字)
  - 色 (選択式)
- **バリデーション**: 重複するカテゴリ名は不可

#### 2.2 カテゴリ一覧表示
- **機能概要**: 作成されたカテゴリを一覧表示
- **表示項目**: カテゴリ名、色、所属タスク数

#### 2.3 カテゴリ編集・削除
- **編集**: カテゴリ名と色の変更
- **削除**: カテゴリに所属するタスクがある場合は警告表示

### 3. 検索機能

#### 3.1 タスク検索
- **機能概要**: キーワードでタスクを検索
- **検索対象**: タスク名、説明文
- **検索方式**: 部分一致
- **結果表示**: 該当するタスクをハイライト表示

### 4. データ管理機能

#### 4.1 データエクスポート
- **機能概要**: タスクデータをJSONまたはCSV形式でエクスポート
- **エクスポート対象**: 全タスクまたは選択したタスク

#### 4.2 データインポート
- **機能概要**: JSONまたはCSV形式のファイルからタスクデータをインポート
- **バリデーション**: インポート前にデータ形式をチェック

## UI/UX要件

### レスポンシブデザイン
- **デスクトップ**: 1200px以上
- **タブレット**: 768px〜1199px
- **モバイル**: 767px以下

### アクセシビリティ
- **キーボード操作**: 全機能をキーボードのみで操作可能
- **スクリーンリーダー**: 適切なaria-label属性の設定
- **コントラスト**: WCAG 2.1 AA基準を満たす色彩設計

### パフォーマンス
- **初回読み込み**: 3秒以内
- **画面遷移**: 1秒以内
- **API応答**: 1秒以内

## エラーハンドリング

### バリデーションエラー
- フォーム入力時のリアルタイムバリデーション
- エラーメッセージの分かりやすい表示

### システムエラー
- データベース接続エラー時の適切なエラーメッセージ
- 予期しないエラーの場合のフォールバック処理

### ネットワークエラー
- オフライン時の適切な表示
- 再接続時の自動同期機能
